<!DOCTYPE html>
<html lang="en" style="background-color: #313131;">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="expires" content="0">
    <title>SecVision Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
</head>

<body class="is-fullheight">

    <script>

        async function fetchDataAsync(url) {
            const response = await fetch(url);
            const data = await response.json();
            let idx = 0
            let channel = url.substring(url.length - 3);
            let description = ""
            switch (channel) {
                case '101':
                    // code block
                    description = "Front Lawn"
                    break;
                case '201':
                    // code block
                    description = "Front Door"
                    break;
                case '301':
                    // code block
                    description = "Driveway"
                    break;
                case '401':
                    // code block
                    description = "Side Gate"
                    break;
                case '501':
                    // code block
                    description = "Courtyard"
                    break;
                case '601':
                    // code block
                    description = "Garage Gate"
                    break;
                case '701':
                    // code block
                    description = "Back Lawn"
                    break;
                case '801':
                    // code block
                    description = "Pool Area"
                    break;
            }
            data.forEach(obj => {
                Object.entries(obj).forEach(([key, value]) => {
                    if (key == 'path') {
                        document.getElementById(idx).src = value + 'frame.jpg';
                        document.getElementById(idx).alt = description;
                        let piclink = "c" + idx;
                        document.getElementById(piclink).href = value + 'frame.jpg';
                        idx = idx + 1;
                    }
                });
            });
        }
        docUrl = document.URL
        let channel = docUrl.substring(docUrl.length - 3);
        fetchDataAsync('/chaninfo?id=' + channel);
    </script>
    <section class="hero">
        <div class="hero-body">
            <div class="container is-fluid is-0-mobile">
                <div class="columns">
                    <div class="column is-one-third">
                        <div class="card">
                            <div class="card-image">
                                <figure class="image is-16by9">
                                    <a id="c0">
                                        <img id="0">
                                    </a>
                                </figure>
                            </div>

                        </div>
                    </div>
                    <div class="column is-one-third">
                        <div class="card">
                            <div class="card-image">
                                <figure class="image is-16by9">
                                    <a id="c1">
                                        <img id="1">
                                    </a>
                                </figure>
                            </div>

                        </div>
                    </div>
                    <div class="column is-one-third">
                        <div class="card">
                            <div class="card-image">
                                <figure class="image is-16by9">
                                    <a id="c2">
                                        <img id="2">
                                    </a>
                                </figure>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="columns">
                    <div class="column is-one-third">
                        <div class="card">
                            <div class="card-image">
                                <figure class="image is-16by9">
                                    <a id="c3">
                                        <img id="3">
                                    </a>
                                </figure>
                            </div>

                        </div>
                    </div>
                    <div class="column is-one-third">
                        <div class="card">
                            <div class="card-image">
                                <figure class="image is-16by9">
                                    <a id="c4">
                                        <img id="4">
                                    </a>
                                </figure>
                            </div>

                        </div>
                    </div>
                    <div class="column is-one-third">
                        <div class="card">
                            <div class="card-image">
                                <figure class="image is-16by9">
                                    <a id="c5">
                                        <img id="5">
                                    </a>
                                </figure>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="columns">
                    <div class="column">
                        <div class="card">
                            <div class="card-image">
                                <figure class="image is-16by9">
                                    <a id="c6">
                                        <img id="6">
                                    </a>
                                </figure>
                            </div>

                        </div>
                    </div>
                    <div class="column">
                        <div class="card">
                            <div class="card-image">
                                <figure class="image is-16by9">
                                    <a id="c7">
                                        <img id="7">
                                    </a>
                                </figure>
                            </div>

                        </div>
                    </div>
                    <div class="column">
                        <div class="card">
                            <div class="card-image">
                                <figure class="image is-16by9">
                                    <a id="c8">
                                        <img id="8">
                                    </a>
                                </figure>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>

</html>